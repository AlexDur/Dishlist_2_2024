<div>
<p-table
  #dt1
  [value]="rezepte"
  dataKey="id"
  [rows]="10"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[10, 25, 50]"
  [loading]="loading"
  [paginator]="true"
  currentPageReportTemplate="Zeige {first} aus {last} von {totalRecords} Einträgen"
  [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']"
>

<!--  <ng-template pTemplate="header" let-columns>
    <tr>
      <th>Name </th>
      <th>Price</th>
      <th>Category</th>
      <th>Quantity</th>
      <th>Status</th>
      <th>Reviews</th>
    </tr>
  </ng-template>-->


  <ng-template pTemplate="caption">
    <div class="flex justify-content-between align-items-center">
      <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)">Löschen</button>
      <span class="p-input-icon-left" style="margin-left: 1260px;">
            <i class="pi pi-search"></i>
            <input #inputField pInputText type="text" (input)="dt1.filterGlobal(inputField.value, 'contains')" placeholder="Suche" />
        </span>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th style="min-width:15rem">
        <div class="flex align-items-center">
          Rezept
          <p-columnFilter type="text" field="name" display="menu"></p-columnFilter>
        </div>
      </th>
      <th style="min-width:15rem">
        <div class="flex align-items-center">
          Onlineadresse
          <p-columnFilter type="text" field="country.name" display="menu"></p-columnFilter>
        </div>
      </th>

      <th style="min-width:10rem">
        <div class="flex align-items-center">
          Datum
          <p-columnFilter type="date" field="date" display="menu"></p-columnFilter>
        </div>
      </th>

      <th style="min-width:15rem">
        <div class="flex align-items-center">
          Koch
          <p-columnFilter field="representative" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
            <ng-template pTemplate="header">
              <div class="px-3 pt-3 pb-0">
                <span class="font-bold">Agent Picker</span>
              </div>
            </ng-template>
            <!--<ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-multiSelect [ngModel]="value" [options]="representatives" placeholder="Any" (onChange)="filter($event.value)" optionLabel="name">
                <ng-template let-option pTemplate="item">
                  <div class="inline-block vertical-align-middle">
                    <img [alt]="option.label" src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ option.image }}" width="24" class="vertical-align-middle" />
                    <span class="ml-1 mt-1">{{ option.name }}</span>
                  </div>
                </ng-template>
              </p-multiSelect>
            </ng-template>-->
          </p-columnFilter>
        </div>
      </th>


      <th style="min-width:10rem">
        <div class="flex align-items-center">
          Status
          <p-columnFilter field="status" matchMode="equals" display="menu">
            <p>Gekocht</p>
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-dropdown [ngModel]="value" [options]="statuses" (onChange)="filter($event.value)" placeholder="Any">
                <ng-template let-option pTemplate="item">
                  <p-tag [value]="option.value" [severity]="getSeverity(option.label)"></p-tag>

                </ng-template>
              </p-dropdown>
            </ng-template>
          </p-columnFilter>
        </div>
      </th>

<!--      <th style="min-width:10rem">
        <div class="flex align-items-center">
          Datum
          <p-columnFilter field="activity" matchMode="between" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
            <ng-template pTemplate="filter" let-filter="filterCallback">
              <p-slider [ngModel]="activityValues" [range]="true" (onSlideEnd)="filter($event.values)" styleClass="m-3"></p-slider>
              <div class="flex align-items-center px-2">
                <span>{{ activityValues[0] }}</span>
                <span>{{ activityValues[1] }}</span>
              </div>
            </ng-template>
          </p-columnFilter>
        </div>
      </th>-->

      <th style="width: 3rem">
        <div class="flex align-items-center">
          Bewertung
          <p-columnFilter type="boolean" field="verified" display="menu"></p-columnFilter>
        </div>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rezept>
    <tr>
      <td>
        {{ rezept.name }}
      </td>
      <td>
        <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + rezept.country.code" style="width: 20px" />
        <span class="ml-1 vertical-align-middle">{{ rezept.country.name }}</span>
      </td>
      <td>
        {{ rezept.date | date: 'MM/dd/yyyy' }}
      </td>
      <td>
        <img [alt]="rezept.representative.name" src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ rezept.representative.image }}" width="32" style="vertical-align: middle" />
        <span class="ml-1 vertical-align-middle">{{ rezept.representative.name }}</span>
      </td>

      <!--<td>
        {{ rezept.balance | currency: 'USD':'symbol' }}
      </td>-->
      <td>
        <p-tag [value]="rezept.status" [severity]="getSeverity(rezept.status)"></p-tag>
      </td>
      <!--<td>
        <p-progressBar [value]="rezept.activity" [showValue]="false"></p-progressBar>
      </td>-->
      <!--td class="text-center">
        <i class="pi" [ngClass]="{ 'text-green-500 pi-check-circle': rezept.verified, 'text-red-500 pi-times-circle': !rezept.verified }"></i>
      </td>-->
      <td><span class="p-column-title">Reviews</span><p-rating [ngModel]="rezept.rating"  [cancel]="false"></p-rating></td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="7">Keine Rezepte gefunden.</td>
    </tr>
  </ng-template>
</p-table>
</div>

