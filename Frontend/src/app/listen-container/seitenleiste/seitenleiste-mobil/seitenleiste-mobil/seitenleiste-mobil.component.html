<div>


  <div>
    <div class="header">
      <div class="seiten-ueberschrift">Dishes</div>

      <div class="search-container">
        <div class="search-icon" (click)="toggleSearch()">
          <i class="pi pi-search"></i>
        </div>
        <input
          *ngIf="isSearchVisible"
          type="text"

          [(ngModel)]="searchText"
          (input)="onSearch()"
          class="rounded-search-input"
        />
      </div>

      <div (click)="toggleDropdown($event)"  >
          <img src="assets/filter.webp" alt="Filter" class="filter-icon">
      </div>
    </div>
    </div>
    <p-overlayPanel #op [dismissable]="true" [showCloseIcon]="false" [styleClass]="'fullscreen-overlay'" (click)="closeDropdown($event)">
      <ng-template pTemplate>
        <div class="dropdown-content">
          <div class="filter-grid">
            <!-- Spalte für Gänge -->
            <div class="filter-column">
              <div class="dropdown-content-title">Gänge</div>
              <div *ngFor="let art of getGerichtartenTags(); trackBy: trackById">
                <div class="checkbox-label-container">
                  <p-checkbox
                    [(ngModel)]="art.selected"
                    [binary]="true"
                    (ngModelChange)="toggleTag(art);"
                    inputId="type_{{ art.label }}">
                  </p-checkbox>
                  <label class="label-dropdown" for="type_{{ art.label }}">
                    {{ art.label }} ({{ art.count }})
                  </label>
                </div>
              </div>
            </div>

            <!-- Spalte für Küche -->
            <div class="filter-column">
              <div class="dropdown-content-title">Küche</div>
              <div *ngFor="let type of getKuechenTags(); let i = index">
                <div class="checkbox-label-container">
                  <p-checkbox
                    [(ngModel)]="type.selected"
                    [binary]="true"
                    (ngModelChange)="toggleTag(type);"
                    inputId="type_{{ i }}">
                  </p-checkbox>
                  <label class="label-dropdown" for="type_{{ i }}">
                    {{ type.label }} ({{ type.count }})
                  </label>
                </div>
              </div>
            </div>

            <!-- Spalte für Nährwert -->
            <div class="filter-column">
              <div class="dropdown-content-title">Nährwert</div>
              <div *ngFor="let type of getNaehrwertTags(); let i = index">
                <div class="checkbox-label-container">
                  <p-checkbox
                    [(ngModel)]="type.selected"
                    [binary]="true"
                    (ngModelChange)="toggleTag(type);"
                    inputId="type_{{ i }}">
                  </p-checkbox>
                  <label class="label-dropdown" for="type_{{ i }}">
                    {{ type.label }} ({{ type.count }})
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>


      <div class="flex justify-content-end">
        <button class="dropdown-close-button" (click)="closeOverlay()">Schließen</button>
      </div>
    </p-overlayPanel>
  </div>
